services:
  ha-sensor-streamer:
    build:
      context: .
      dockerfile: Dockerfile
    image: ghcr.io/tuomaz/ha-sensor-streamer:main
    container_name: ha-sensor-streamer
    restart: unless-stopped
    ports:
      - "8080:8080"
      - "8554:8554" # Optional: For RTSP if you expose it directly, though usually it's internal to the container network if using go2rtc
    environment:
      - HA_BASE_URL=http://192.168.1.50:8123
      - HA_LONG_LIVED_TOKEN=your_token_here
      - SENSOR_ENTITY_ID=sensor.ute_kombinerad
      - PORT=8080
      - TZ=Europe/Stockholm
      - VIDEO_WIDTH=640
      - VIDEO_HEIGHT=360
      - VIDEO_FPS=5
      - STREAM_FORMAT=rtsp # Options: mjpeg, rtsp
